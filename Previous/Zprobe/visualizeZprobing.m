% Script to visualize the Z probing results

clear all
close all
clc

data = [[0.0, 0.21999999999999886, 0.40000000000000213, 0.5500000000000007, 0.620000000000001, 0.620000000000001, 0.5800000000000018, 0.5199999999999996, 0.4800000000000004, 0.40000000000000213, 0.26000000000000156, 0.120000000000001], [-0.07000000000000028, 0.03999999999999915, 0.15000000000000213, 0.26000000000000156, 0.3200000000000003, 0.35999999999999943, 0.33000000000000185, 0.3000000000000007, 0.26000000000000156, 0.23000000000000043, 0.120000000000001, 0.0], [-0.10999999999999943, 0.0, 0.03999999999999915, 0.120000000000001, 0.16000000000000014, 0.21999999999999886, 0.19000000000000128, 0.21999999999999886, 0.19000000000000128, 0.15000000000000213, 0.08000000000000185, 0.0], [-0.16000000000000014, -0.07000000000000028, 0.0, 0.08000000000000185, 0.15000000000000213, 0.19000000000000128, 0.19000000000000128, 0.21999999999999886, 0.21999999999999886, 0.16000000000000014, 0.10999999999999943, 0.0], [-0.07000000000000028, 0.0, 0.03999999999999915, 0.15000000000000213, 0.21999999999999886, 0.26000000000000156, 0.3000000000000007, 0.3200000000000003, 0.3200000000000003, 0.3000000000000007, 0.1999999999999993, 0.08000000000000185], [0.08000000000000185, 0.15000000000000213, 0.21999999999999886, 0.28999999999999915, 0.4299999999999997, 0.4800000000000004, 0.5199999999999996, 0.5899999999999999, 0.5800000000000018, 0.5199999999999996, 0.40000000000000213, 0.23000000000000043]];

% Probing duration: 0:05:21.202708

N_points = length(data)

grid_len_X = 135;
grid_len_Y = 84;

grid_N_X = 12;
grid_N_Y = 6;

grid_inc_X = grid_len_X/(grid_N_X-1);
grid_inc_Y = grid_len_Y/(grid_N_Y-1);

grid = reshape(data,grid_N_X,grid_N_Y)';

figure
[X,Y]=meshgrid([0:grid_inc_X:grid_len_X],[0:grid_inc_Y:grid_len_Y]);
surf(X,Y,grid)
xlim([0 grid_len_X])
ylim([0 grid_len_X])
zlim([-1 1])

figure
contourf(X,Y,grid)
xlim([0 grid_len_X])
ylim([0 grid_len_X])
colorbar

figure
imshow(flipdim(grid,1),[min(min(grid)) max(max(grid))])

figure
hist(data)
